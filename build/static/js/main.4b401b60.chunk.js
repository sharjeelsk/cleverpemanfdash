(this.webpackJsonpbstorage=this.webpackJsonpbstorage||[]).push([[0],{171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},269:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(66),i=a.n(s),r=(a(236),a(31)),o=a(12),l=a(4),d=(a(237),a(81)),u=a(34),j=a.n(u),h=(a(238),a(179)),b=a.n(h),m=a(183),p=a.n(m),O=a(184),x=a.n(O),f=a(185),v=a.n(f),g=a(186),N=a.n(g),y=a(187),w=a.n(y),k=a(144),S=a.n(k),C=a(188),D=a.n(C),M=a(189),A=a.n(M),E=a(29),I=a(1),P=Object(E.b)((function(e){return{user:e.EventUser}}))(Object(r.f)((function(e){console.log(e);var t=e.id,a=e.display;return Object(I.jsxs)("div",{className:a?"shadow-lg dashhead":"dashhead displayhidden",children:[Object(I.jsx)("h1",{children:"CP Admin"}),1===t?Object(I.jsx)("div",{onClick:function(){return e.history.push("dashboard")},className:"menu-container-active",children:Object(I.jsxs)("p",{children:[Object(I.jsx)(b.a,{})," ",Object(I.jsx)("span",{className:"pl-1",children:"Home"})]})}):Object(I.jsx)("div",{className:"menu-container",onClick:function(){return e.history.push("dashboard")},children:Object(I.jsxs)("p",{children:[Object(I.jsx)(p.a,{})," ",Object(I.jsx)("span",{className:"pl-2",children:"Home"})]})}),2===t?Object(I.jsx)("div",{className:"menu-container-active",onClick:function(){return e.history.push("products")},children:Object(I.jsxs)("p",{children:[Object(I.jsx)(x.a,{})," ",Object(I.jsx)("span",{className:"pl-1",children:"Products"})]})}):Object(I.jsx)("div",{className:"menu-container",onClick:function(){return e.history.push("products")},children:Object(I.jsxs)("p",{children:[Object(I.jsx)(v.a,{})," ",Object(I.jsx)("span",{className:"pl-2",children:"Products"})]})}),3===t?Object(I.jsx)("div",{className:"menu-container-active",onClick:function(){return e.history.push("categories")},children:Object(I.jsxs)("p",{children:[Object(I.jsx)(N.a,{})," ",Object(I.jsx)("span",{className:"pl-1",children:"Categories"})]})}):Object(I.jsx)("div",{className:"menu-container",onClick:function(){return e.history.push("categories")},children:Object(I.jsxs)("p",{children:[Object(I.jsx)(w.a,{})," ",Object(I.jsx)("span",{className:"pl-2",children:"Categories"})]})}),4===t?Object(I.jsx)("div",{className:"menu-container-active",onClick:function(){return e.history.push("orders")},children:Object(I.jsxs)("p",{children:[Object(I.jsx)(S.a,{})," ",Object(I.jsx)("span",{className:"pl-1",children:"Orders"})]})}):Object(I.jsx)("div",{className:"menu-container",onClick:function(){return e.history.push("orders")},children:Object(I.jsxs)("p",{children:[Object(I.jsx)(S.a,{})," ",Object(I.jsx)("span",{className:"pl-2",children:"Orders"})]})}),5===t?Object(I.jsx)("div",{className:"menu-container-active",onClick:function(){return e.history.push("approvals")},children:Object(I.jsxs)("p",{children:[Object(I.jsx)(D.a,{})," ",Object(I.jsx)("span",{className:"pl-1",children:"Approvals"})]})}):Object(I.jsx)("div",{className:"menu-container",onClick:function(){return e.history.push("approvals")},children:Object(I.jsxs)("p",{children:[Object(I.jsx)(A.a,{})," ",Object(I.jsx)("span",{className:"pl-2",children:"Approvals"})]})})]})}))),G=a(20),_=a.n(G),T=a(21),z=a.n(T),W=a(146),U=a(36),R=a.n(U),Y=a(59);var B=Object(E.b)((function(e){return{user:e.EventUser}}))((function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState({}),r=Object(l.a)(i,2),u=r[0],h=r[1],b=n.a.useState([]),m=Object(l.a)(b,2),p=m[0],O=m[1];return n.a.useEffect((function(){_.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/product/dashboard"),{headers:{token:e.user.user}}).then((function(t){console.log(t),"Success"===t.data.msg&&(h(t.data.result),_.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/order/orderPerDay"),{headers:{token:e.user.user}}).then((function(e){console.log(e),O(e.data.result.orders[0].sixMonthOrders)})).catch((function(e){console.log(e)})))}))}),[]),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(I.jsx)(P,{id:1,display:c})}),Object(I.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return c&&s(!1)},children:[Object(I.jsx)("span",{className:"iconbutton display-mobile",children:Object(I.jsx)(d.a,{size:"large","aria-label":"Menu",onClick:function(){return s(!0)},children:Object(I.jsx)(j.a,{fontSize:"inherit"})})}),!z.a.isEmpty(u)&&Object(I.jsxs)("section",{className:"home-container",children:[Object(I.jsxs)("div",{className:"row m-auto justify-content-between align-items-center box-head",children:[Object(I.jsxs)("div",{className:"shadow col-2 box-content",children:[Object(I.jsx)("h2",{children:u.orders[0].statusCount[0]&&u.orders[0].statusCount[0].count}),Object(I.jsxs)("h3",{children:[u.orders[0].statusCount[0]&&u.orders[0].statusCount[0]._id.status," Orders"]})]}),Object(I.jsxs)("div",{className:"shadow col-2 box-content",children:[Object(I.jsx)("h2",{children:u.orders[0].statusCount[1]&&u.orders[0].statusCount[1].count}),Object(I.jsxs)("h3",{children:[u.orders[0].statusCount[1]&&u.orders[0].statusCount[1]._id.status," Orders"]})]}),Object(I.jsxs)("div",{className:"shadow col-2 box-content",children:[Object(I.jsx)("h2",{children:u.orders[0].statusCount[2]&&u.orders[0].statusCount[2].count}),Object(I.jsxs)("h3",{children:[u.orders[0].statusCount[2]&&u.orders[0].statusCount[2]._id.status," Orders"]})]}),Object(I.jsxs)("div",{className:"shadow col-2 box-content",children:[Object(I.jsx)("h2",{children:Math.ceil(u.orders[0].AverageOrdersLast30[0].avgOrders)}),Object(I.jsx)("h3",{children:"Merchant Orders/D"})]})]}),Object(I.jsxs)("div",{className:"row m-auto align-items-center",children:[Object(I.jsx)("div",{className:"col-4",children:!z.a.isEmpty(u)&&Object(I.jsx)(W.a,{type:"bar",data:{labels:u.orders[0].sixMonthOrders.map((function(e){return"".concat(e._id.month,"/").concat(e._id.year)})),datasets:[{label:"Number of orders",backgroundColor:"#3705d2",data:u.orders[0].sixMonthOrders.map((function(e){return e.count}))}]},labels:"months"})}),Object(I.jsx)("div",{className:"col-3",children:!z.a.isEmpty(u)&&Object(I.jsx)(W.a,{type:"doughnut",data:{labels:u.users.map((function(e){return e._id.role})),datasets:[{backgroundColor:["#000","#3705d2"],data:u.users.map((function(e){return e.count}))}]}})})]}),Object(I.jsxs)("section",{className:"row m-auto",children:[Object(I.jsx)("div",{className:"col-8 my-3",style:{height:"80vh",width:"100%"},children:Object(I.jsx)(Y.a,{rows:u.orders[0].lastTenOrders.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:t+1})})),columns:V,autoPageSize:!0,onRowClick:function(t,a){return e.history.push("/orderdetails",t.row)}})}),Object(I.jsx)("div",{className:"col-4",children:Object(I.jsxs)("table",{className:"ui celled table",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Date"}),Object(I.jsx)("th",{children:"Total Orders"})]})}),Object(I.jsx)("tbody",{children:p.length>0&&p.map((function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{"data-label":"Name",children:[e._id.day,"/",e._id.month,"/",e._id.year]}),Object(I.jsx)("td",{"data-label":"Job",children:e.count})]})}))})]})})]})]})]})]})})),V=[{field:"id",headerName:"ID",width:20},{field:"name",headerName:"Customer Name",valueGetter:function(e){return e.row.userDetails.name},width:150},{field:"total",headerName:"Total",valueGetter:function(e){return e.row.total},width:150},{field:"status",headerName:"Status",valueGetter:function(e){return e.row.status},width:150},{field:"type",headerName:"Type",valueGetter:function(e){return e.row.type},width:150},{field:"totalitems",headerName:"Total Items",valueGetter:function(e){return e.row.items.length},width:150},{field:"mobileNo",headerName:"Mobile Number",valueGetter:function(e){return e.row.userDetails.mobileNo},width:150},{field:"address_1",headerName:"Address 1",valueGetter:function(e){return"Onsite"===e.row.type?"":e.row.shipping.address_1},width:150},{field:"address_2",headerName:"Address 2",valueGetter:function(e){return"Onsite"===e.row.type?"":e.row.shipping.address_2},width:150},{field:"createdAt",headerName:"Created At",valueGetter:function(e){return R.a.parseZone(e.value).local().format("DD/MM/YY")},width:120}],q=(a(265),a(150)),K=a(354),L=a(194),Z=a.n(L);var F=Object(E.b)((function(e){return{user:e.EventUser}}))((function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState([]),r=Object(l.a)(i,2),u=r[0],h=r[1];return n.a.useEffect((function(){_.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/product/all"),{headers:{token:e.user.user}}).then((function(e){console.log(e);var t=e.data.result.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:t+1})}));h(t)})).catch((function(e){console.log(e)}))}),[]),console.log(u),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(I.jsx)(P,{id:2,display:c})}),Object(I.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return c&&s(!1)},children:[Object(I.jsx)("span",{className:"iconbutton display-mobile",children:Object(I.jsx)(d.a,{size:"large","aria-label":"Menu",onClick:function(){return s(!0)},children:Object(I.jsx)(j.a,{fontSize:"inherit"})})}),Object(I.jsxs)("section",{children:[Object(I.jsx)("h1",{className:"heading",children:"All Products"}),Object(I.jsx)("div",{style:{height:"80vh",width:"100%"},children:Object(I.jsx)(Y.a,{rows:u,columns:H,autoPageSize:!0,onRowClick:function(t,a){return e.history.push("/productdetail",t.row)}})}),Object(I.jsx)("div",{style:{position:"fixed",bottom:"5%",right:"5%"},children:Object(I.jsx)(q.a,{title:"Create Product",children:Object(I.jsx)(K.a,{onClick:function(){return e.history.push("/createproduct")},color:"primary","aria-label":"add",children:Object(I.jsx)(Z.a,{})})})})]})]})]})})),H=[{field:"id",headerName:"ID",width:20},{field:"name",headerName:"Product Name",width:300},{field:"brand",headerName:"Brand Name",valueGetter:function(e){return e.value.name},width:150},{field:"attributes",headerName:"Product Attributes",valueGetter:function(e){return Object.keys(e.value[0])},width:150},{field:"reviewsCount",headerName:"Reviews",width:80},{field:"rating",headerName:"Ratings",valueGetter:function(e){return e.value.total},width:70},{field:"variations",headerName:"Variations",valueGetter:function(e){return e.value.length},width:90},{field:"available",headerName:"Available",valueGetter:function(e){return e.value?e.value.length:0},width:90},{field:"imgs",headerName:"Imgs",valueGetter:function(e){return e.value.length},width:90},{field:"updatedAt",headerName:"Last Updated",valueGetter:function(e){return R.a.parseZone(e.value).local().format("DD/MM/YY")},width:120}],J=(a(266),a(69)),Q=a.n(J),X=a(111),$=a(344),ee=a(88),te=a(195),ae=a.n(te),ce=a(67);var ne=Object(E.b)((function(e){return{user:e.EventUser}}))((function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(ce.a)(),r=i.handleSubmit,u=i.register,h=i.formState.errors,b=n.a.useState([]),m=Object(l.a)(b,2),p=m[0],O=m[1],x=n.a.useState(""),f=Object(l.a)(x,2),v=f[0],g=f[1],N=function(){_.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/category/all"),{headers:{token:e.user.user}}).then((function(e){console.log(e),O(e.data.result)})).catch((function(e){console.log(e),g("Something went wrong")}))};return n.a.useEffect((function(){N()}),[]),console.log(p),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(I.jsx)(P,{id:3,display:c})}),Object(I.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return c&&s(!1)},children:[Object(I.jsx)("span",{className:"iconbutton display-mobile",children:Object(I.jsx)(d.a,{size:"large","aria-label":"Menu",onClick:function(){return s(!0)},children:Object(I.jsx)(j.a,{fontSize:"inherit"})})}),Object(I.jsxs)("section",{className:"category-section",children:[Object(I.jsx)("h1",{className:"heading",children:"Categories"}),Object(I.jsxs)("form",{onSubmit:r((function(t){var a=t.name;console.log(a),_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/category/create"),{name:a},{headers:{token:e.user.user}}).then((function(e){console.log(e),N()})).catch((function(e){console.log(e),g("Something went wrong")}))})),children:[Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({className:"textfield",error:h.name&&!0},u("name",{required:!0})),{},{variant:"filled",id:"filled-basic",label:"Category Name",fullWidth:!0})),v.length>0&&Object(I.jsx)($.a,{className:"alert",severity:"error",children:v}),Object(I.jsx)(ee.a,{className:"btn",startIcon:Object(I.jsx)(ae.a,{}),type:"submit",variant:"contained",children:"Add Category"})]}),Object(I.jsx)("section",{className:"category-row",children:p.length>0?p.map((function(t,a){return Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"row m-auto align-items-center category-item",children:[Object(I.jsx)("div",{className:"col-1",children:Object(I.jsx)("p",{className:"index",children:a+1})}),Object(I.jsx)("div",{className:"col-2",children:Object(I.jsx)("p",{className:"name",children:t.name})}),Object(I.jsx)("div",{className:"col-2",children:Object(I.jsx)("p",{className:"id",children:t._id})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)("p",{className:"time",children:R.a.parseZone(t.createdAt).local().format("dddd, MMMM Do YYYY, h:mm:ss a")})}),Object(I.jsx)("div",{className:"col-1",children:Object(I.jsx)(d.a,{onClick:function(){return a=t._id,void _.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/category/delete"),{categoryId:a},{headers:{token:e.user.user}}).then((function(e){console.log(e),N()})).catch((function(e){console.log(e)}));var a},children:Object(I.jsx)(Q.a,{})})})]}),a!==p.length-1&&Object(I.jsx)("hr",{})]})})):Object(I.jsx)("div",{children:"No Categories"})})]})]})]})}));a(171);var se=Object(E.b)((function(e){return{user:e.EventUser}}))((function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState([]),r=Object(l.a)(i,2),u=r[0],h=r[1],b=n.a.useState([]),m=Object(l.a)(b,2),p=m[0],O=m[1];return n.a.useEffect((function(){_.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/order/all"),{headers:{token:e.user.user}}).then((function(e){if(console.log(e),"Success"===e.data.msg){var t=e.data.result.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:t+1})})),a=t.filter((function(e){return"Onsite"===e.type}));O(a),h(t.filter((function(e){return"Online"===e.type})))}})).catch((function(e){console.log(e)}))}),[]),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(I.jsx)(P,{id:4,display:c})}),Object(I.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return c&&s(!1)},children:[Object(I.jsx)("span",{className:"iconbutton display-mobile",children:Object(I.jsx)(d.a,{size:"large","aria-label":"Menu",onClick:function(){return s(!0)},children:Object(I.jsx)(j.a,{fontSize:"inherit"})})}),Object(I.jsx)("h1",{children:"Merchant Orders"}),Object(I.jsx)("div",{style:{height:"80vh",width:"100%"},children:Object(I.jsx)(Y.a,{rows:p,columns:re,autoPageSize:!0,checkboxSelection:!0,onRowClick:function(t,a){return e.history.push("/orderdetails",t.row)}})}),Object(I.jsx)("h1",{children:"Customer Orders"}),Object(I.jsx)("div",{style:{height:"80vh",width:"100%"},children:Object(I.jsx)(Y.a,{rows:u,columns:ie,autoPageSize:!0,checkboxSelection:!0,onRowClick:function(t,a){return e.history.push("/orderdetails",t.row)}})})]})]})})),ie=[{field:"id",headerName:"ID",width:20},{field:"name",headerName:"Customer Name",valueGetter:function(e){return e.row.userDetails.name},width:150},{field:"total",headerName:"Total",valueGetter:function(e){return e.row.total},width:150},{field:"status",headerName:"Status",valueGetter:function(e){return e.row.status},width:150},{field:"type",headerName:"Type",valueGetter:function(e){return e.row.type},width:150},{field:"totalitems",headerName:"Total Items",valueGetter:function(e){return e.row.items.length},width:150},{field:"mobileNo",headerName:"Mobile Number",valueGetter:function(e){return e.row.userDetails.mobileNo},width:150},{field:"address_1",headerName:"Address 1",valueGetter:function(e){return"Onsite"===e.row.type?"":e.row.shipping.address_1},width:150},{field:"address_2",headerName:"Address 2",valueGetter:function(e){return"Onsite"===e.row.type?"":e.row.shipping.address_2},width:150},{field:"createdAt",headerName:"Created At",valueGetter:function(e){return R.a.parseZone(e.value).local().format("DD/MM/YY")},width:120}],re=[{field:"id",headerName:"ID",width:20},{field:"name",headerName:"Merchant Name",valueGetter:function(e){return e.row.userDetails.name},width:150},{field:"total",headerName:"Total",valueGetter:function(e){return e.row.total},width:150},{field:"status",headerName:"Status",valueGetter:function(e){return e.row.status},width:150},{field:"type",headerName:"Type",valueGetter:function(e){return e.row.type},width:150},{field:"totalitems",headerName:"Total Items",valueGetter:function(e){return e.row.items.length},width:150},{field:"mobileNo",headerName:"Mobile Number",valueGetter:function(e){return e.row.userDetails.mobileNo},width:150},{field:"address_1",headerName:"Address 1",valueGetter:function(e){return"Onsite"===e.row.type?"":e.row.shipping.address_1},width:150},{field:"address_2",headerName:"Address 2",valueGetter:function(e){return"Onsite"===e.row.type?"":e.row.shipping.address_2},width:150},{field:"createdAt",headerName:"Created At",valueGetter:function(e){return R.a.parseZone(e.value).local().format("DD/MM/YY")},width:120}],oe=a(13);a(172);var le=Object(E.b)((function(e){return{user:e.EventUser}}))((function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState([]),r=Object(l.a)(i,2),u=r[0],h=r[1],b=n.a.useState([]),m=Object(l.a)(b,2),p=m[0],O=m[1],x=n.a.useState([]),f=Object(l.a)(x,2),v=f[0],g=f[1],N=function(){_.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/approval/all"),{headers:{token:e.user.user}}).then((function(t){console.log(t);var a=t.data.result.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:t+1})}));h(a),_.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/user/allMerchant"),{headers:{token:e.user.user}}).then((function(e){console.log(e);var t=e.data.result.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:t+1})}));O(t)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))};return n.a.useEffect((function(){N()}),[]),console.log(v),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(I.jsx)(P,{id:5,display:c})}),Object(I.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return c&&s(!1)},children:[Object(I.jsx)("span",{className:"iconbutton display-mobile",children:Object(I.jsx)(d.a,{size:"large","aria-label":"Menu",onClick:function(){return s(!0)},children:Object(I.jsx)(j.a,{fontSize:"inherit"})})}),Object(I.jsx)("h1",{children:"Merchant Approvals"}),Object(I.jsx)("div",{style:{height:"50vh",width:"100%"},children:Object(I.jsx)(Y.a,{rows:p,columns:ue,autoPageSize:!0,onRowClick:function(t,a){console.log(t),e.history.push("/merchantinfo",t.row)}})}),Object(I.jsx)("h1",{children:"Merchant Product Approvals"}),Object(I.jsx)("div",{style:{height:"50vh",width:"100%"},children:Object(I.jsx)(Y.a,{rows:u,columns:de,autoPageSize:!0,checkboxSelection:!0,onRowClick:function(e,t){v.filter((function(t){return t===e.row._id})).length>0?g(v.filter((function(t){return t!==e.row._id}))):g([].concat(Object(oe.a)(v),[e.row._id]))}})}),Object(I.jsxs)("div",{className:"row mb-5 mt-3 mx-auto justify-content-between",children:[Object(I.jsx)(ee.a,{onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/approval/delete"),{approvalId:v,reason:"Default"},{headers:{token:e.user.user}}).then((function(e){console.log(e),N()})).catch((function(e){console.log(e)}))},variant:"outlined",children:"Delete Selected"}),Object(I.jsx)(ee.a,{onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/approval/reject"),{approvalId:v,reason:"Default"},{headers:{token:e.user.user}}).then((function(e){console.log(e),N()})).catch((function(e){console.log(e)}))},children:"Reject Selected"}),Object(I.jsx)(ee.a,{onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/approval/accept"),{approvalId:v},{headers:{token:e.user.user}}).then((function(e){console.log(e),N()})).catch((function(e){console.log(e)}))},variant:"contained",children:"Approve Selected"})]})]})]})})),de=[{field:"id",headerName:"ID",width:20},{field:"variationId",headerName:"Variation Id",valueGetter:function(e){return e.value},width:150},{field:"merchantDetails",headerName:"Merchant Name",valueGetter:function(e){return e.value.name},width:150},{field:"merchantEmail",headerName:"Merchant Email",valueGetter:function(e){return e.row.merchantDetails.email},width:150},{field:"merchantPhone",headerName:"Merchant MobileNo",valueGetter:function(e){return e.row.merchantDetails.mobileNo},width:150},{field:"merchantPan",headerName:"Merchant Pan",valueGetter:function(e){return e.row.merchantDetails.panVeried.toString()},width:150},{field:"status",headerName:"Approval Status",valueGetter:function(e){return e.value},width:150},{field:"quantity",headerName:"Product Quantity",valueGetter:function(e){return e.value},width:150},{field:"merchantId",headerName:"Merchant Id",valueGetter:function(e){return e.row.merchantDetails._id.toString()},width:150},{field:"createdAt",headerName:"Created At",valueGetter:function(e){return R.a.parseZone(e.value).local().format("DD/MM/YY")},width:120}],ue=[{field:"id",headerName:"ID",width:20},{field:"name",headerName:"Merchant Name",valueGetter:function(e){return e.row.name},width:150},{field:"merchantEmail",headerName:"Merchant Email",valueGetter:function(e){return e.row.email},width:150},{field:"merchantPhone",headerName:"Merchant MobileNo",valueGetter:function(e){return e.row.mobileNo},width:150},{field:"merchantId",headerName:"Merchant Id",valueGetter:function(e){return e.row._id.toString()},width:150},{field:"merchantKyc",headerName:"KYC",valueGetter:function(e){return e.row.kyc.toString()},width:150},{field:"createdAt",headerName:"Created At",valueGetter:function(e){return R.a.parseZone(e.value).local().format("DD/MM/YY")},width:120}];a(173);var je=Object(E.b)(null,(function(e){return{setUser:function(t){return e({type:"SET_USER",payload:t})}}}))((function(e){var t=n.a.useState(""),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState(""),r=Object(l.a)(i,2),d=r[0],u=r[1];console.log("verify otp",e);var j=function(t){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/auth/verifyOTP"),Object(o.a)(Object(o.a)({},e.location.state),{},{otp:t})).then((function(t){console.log(t),"Success"===t.data.msg&&"Not Found"!==t.data.result?(e.setUser(t.data.result),e.history.push("/dashboard")):s("User doesn't exists")})).catch((function(e){console.log(e),s("Something went wrong")}))};return Object(I.jsxs)("div",{className:"auth-container",children:[Object(I.jsx)("img",{src:"/cleverpeblack.png",alt:"cleverpe",className:"logo"}),Object(I.jsx)("h3",{children:"Welcome Admin"}),Object(I.jsxs)("h6",{children:["OTP has been sent to ",e.location.state.mobileNo]}),Object(I.jsx)("p",{children:e.location.state.otp}),Object(I.jsx)(X.a,{onChange:function(e){return t=e.target.value,u(parseInt(t)),void(6===parseInt(t).length&&j(t));var t},className:"textfield",fullWidth:!0,variant:"outlined",id:"outlined-basic",label:"Enter OTP"}),Object(I.jsx)("div",{style:{textAlign:"right"},children:Object(I.jsx)(ee.a,{children:"Resend OTP"})}),c.length>0&&Object(I.jsx)($.a,{className:"alert",severity:"error",children:c}),Object(I.jsx)(ee.a,{onClick:function(){j(d)},className:"mt-4",fullWidth:!0,variant:"contained",children:"Verify OTP"})]})}));var he=function(e){var t=Object(ce.a)(),a=t.handleSubmit,c=t.register,s=t.formState.errors,i=n.a.useState(""),r=Object(l.a)(i,2),d=r[0],u=r[1];return console.log(s),Object(I.jsxs)("div",{className:"auth-container",children:[Object(I.jsx)("img",{src:"/cleverpeblack.png",alt:"cleverpe",className:"logo"}),Object(I.jsx)("h3",{children:"Employer Login"}),Object(I.jsx)("h6",{children:"SignIn buy entering the information below"}),Object(I.jsxs)("form",{onSubmit:a((function(t){console.log(t),parseInt(t.mobile)?(u(""),_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/auth/signin"),{mobileNo:t.mobile}).then((function(t){console.log(t),e.history.push("/verifyotp",t.data)})).catch((function(e){u("Check your internet connection")}))):u("Enter valid mobile number")})),children:[Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({error:!!s.mobile},c("mobile",{required:!0,valueAsNumber:!0})),{},{className:"textfield",fullWidth:!0,variant:"outlined",id:"outlined-basic",label:"Mobile Number"})),d.length>0&&Object(I.jsx)($.a,{className:"alert",severity:"error",children:d}),Object(I.jsx)(ee.a,{type:"submit",className:"mt-4",fullWidth:!0,variant:"contained",children:"Signin"})]})]})},be=(a(174),a(343)),me=a(349),pe=a(282),Oe=a(112),xe=a(336),fe=a(352),ve=a(345),ge=a(348);function Ne(e){return Object(I.jsx)("div",{children:Object(I.jsx)(ge.a,{open:e.open,autoHideDuration:3e3,onClose:function(){return e.setOpen(!1)},message:e.message})})}var ye=a(97),we=a.n(ye),ke=a(83),Se=a.n(ke);var Ce=Object(E.b)((function(e){return{user:e.EventUser}}))((function(e){var t=Object(ce.a)(),a=t.handleSubmit,c=t.register,s=(t.formState.errors,n.a.useState(!1)),i=Object(l.a)(s,2),r=i[0],u=i[1],h=n.a.useState(""),b=Object(l.a)(h,2),m=b[0],p=b[1],O=n.a.useState([]),x=Object(l.a)(O,2),f=x[0],v=x[1],g=n.a.useState(!1),N=Object(l.a)(g,2),y=N[0],w=N[1],k=n.a.useState(""),S=Object(l.a)(k,2),C=S[0],D=S[1],M=n.a.useState([]),A=Object(l.a)(M,2),E=A[0],G=A[1],T=n.a.useState({}),W=Object(l.a)(T,2),U=W[0],R=W[1],Y=n.a.useState([]),B=Object(l.a)(Y,2),V=B[0],L=B[1],Z=n.a.useState([]),F=Object(l.a)(Z,2),H=F[0],J=F[1],te=n.a.useState([]),ae=Object(l.a)(te,2),ne=ae[0],se=ae[1],ie=n.a.useState(""),re=Object(l.a)(ie,2),le=re[0],de=re[1],ue=n.a.useState(""),je=Object(l.a)(ue,2),he=je[0],ge=je[1],ye=n.a.useState(""),ke=Object(l.a)(ye,2),Ce=ke[0],De=ke[1],Me=n.a.useState(""),Ae=Object(l.a)(Me,2),Ee=Ae[0],Ie=Ae[1],Pe=n.a.useState(""),Ge=Object(l.a)(Pe,2),_e=Ge[0],Te=Ge[1],ze=n.a.useState(""),We=Object(l.a)(ze,2),Ue=We[0],Re=We[1],Ye=n.a.useState(""),Be=Object(l.a)(Ye,2),Ve=Be[0],qe=Be[1],Ke=n.a.useState(""),Le=Object(l.a)(Ke,2),Ze=Le[0],Fe=Le[1],He=n.a.useState(""),Je=Object(l.a)(He,2),Qe=Je[0],Xe=Je[1],$e=n.a.useState({price:0}),et=Object(l.a)($e,2),tt=et[0],at=et[1];return n.a.useEffect((function(){_.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/category/all"),{headers:{token:e.user.user}}).then((function(e){console.log(e),v(e.data.result)})).catch((function(e){console.log(e),p("Something went wrong")}))}),[]),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)(Ne,{open:y,setOpen:w,message:le}),Object(I.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(I.jsx)(P,{id:2,display:r})}),Object(I.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return r&&u(!1)},children:[Object(I.jsx)("span",{className:"iconbutton display-mobile",children:Object(I.jsx)(d.a,{size:"large","aria-label":"Menu",onClick:function(){return u(!0)},children:Object(I.jsx)(j.a,{fontSize:"inherit"})})}),Object(I.jsxs)("section",{className:"create-product-section",children:[Object(I.jsx)("h1",{className:"heading",children:"Create Product"}),Object(I.jsxs)("form",{onSubmit:a((function(t){var a=f.filter((function(e){return e.name===Ce}));a=a[0];var c=["Bank Offer5% Cashback on Flipkart Axis Bank Card","Special PriceGet extra \u20b9500 off (price inclusive of discount)","Get Google Nest hub(2nd gen) at just \u20b94999","Get Google Nest mini at just \u20b91999"],n={name:t.name,description:t.description,category:a,offers:c,brand:{name:t.brandname},attributes:U,specification:H,EMI_Options:V};console.log(n),_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/product/create"),{name:t.name,description:t.description,category:a,offers:c,brand:{name:t.brandname},attributes:U,specification:H,EMI_Options:V},{headers:{token:e.user.user}}).then((function(e){console.log(e),"Error"===e.data.msg?p(e.data.result):(D(e.data.result._id),w(!0),de("Product Added Successfully"))})).catch((function(e){console.log(e)}))})),children:[Object(I.jsx)("h3",{className:"",children:"Product Info"}),Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({className:"mb-4"},c("name",{required:!0})),{},{id:"outlined-basics",fullWidth:!0,label:"Product Name",variant:"outlined"})),Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({className:"mb-4"},c("description",{required:!0})),{},{id:"outlined-basics",fullWidth:!0,label:"Product Description",variant:"outlined"})),Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({className:"mb-4"},c("brandname",{required:!0})),{},{id:"outlined-basics",fullWidth:!0,label:"Product Brand Name",variant:"outlined"})),Object(I.jsx)("p",{children:"Note: while adding brandname make sure not to include any spaces and first letter should be uppder case eg: 'Realme'"}),Object(I.jsxs)(Oe.a,{className:"textfield",children:[Object(I.jsx)(xe.a,{id:"demo-row-radio-buttons-group-label",children:"Category"}),Object(I.jsx)(me.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:Ce,onChange:function(e){return De(e.target.value)},children:f.length>0?f.map((function(e,t){return Object(I.jsx)(pe.a,{value:e.name,control:Object(I.jsx)(be.a,{}),label:e.name},t)})):null})]}),Object(I.jsx)("hr",{}),Object(I.jsx)("h3",{children:"EMI Options"}),Object(I.jsxs)("div",{className:"row m-auto align-items-center",children:[Object(I.jsx)("div",{className:"col-3",children:Object(I.jsx)(X.a,{onChange:function(e){return ge(e.target.value)},fullWidth:!0,id:"outlined-basics",label:"Month Count",variant:"outlined"})}),Object(I.jsx)("div",{className:"col-4",children:Object(I.jsx)(X.a,{onChange:function(e){return Ie(e.target.value)},fullWidth:!0,id:"outlined-basics",label:"Downpayment",variant:"outlined"})}),Object(I.jsx)("div",{className:"col-2",children:Object(I.jsx)(d.a,{sx:{fontSize:"2.1em"},onClick:function(){return L([].concat(Object(oe.a)(V),[{monthCount:he,downPayment:Ee}]))},color:"primary",children:Object(I.jsx)(we.a,{fontSize:"inherit"})})})]}),V.length>0&&Object(I.jsx)("section",{className:"row mx-auto emi-head-cont",children:V.map((function(e,t){return Object(I.jsxs)("div",{className:"emi-cont",children:[Object(I.jsxs)("p",{children:["Month Tenure: ",Object(I.jsx)("b",{children:e.monthCount})]}),Object(I.jsxs)("p",{children:["Downpayment: ",Object(I.jsx)("b",{children:e.downPayment})]}),Object(I.jsx)("div",{style:{textAlign:"center"},children:Object(I.jsx)(ee.a,{onClick:function(){return L(V.filter((function(t){return t.monthCount!==e.monthCount})))},children:"Remove"})})]},t)}))}),Object(I.jsx)("div",{className:"mt-5"}),Object(I.jsx)("hr",{}),Object(I.jsx)("h3",{className:"",children:"Attributes of Product"}),Object(I.jsxs)("div",{className:"row mx-auto mb-3 align-items-center",children:[Object(I.jsx)("div",{className:"col-4",children:Object(I.jsx)(X.a,{fullWidth:!0,onChange:function(e){return qe(e.target.value)},className:"textfield",id:"filled-basics",label:"Enter Attribute Key",variant:"filled"})}),Object(I.jsx)("div",{className:"col-2",children:Object(I.jsx)(d.a,{sx:{fontSize:"2.1em"},onClick:function(){return G([].concat(Object(oe.a)(E),[Ve]))},color:"primary",children:Object(I.jsx)(we.a,{fontSize:"inherit"})})})]}),E.length>0&&E.map((function(e,t){return Object(I.jsx)(fe.a,{className:"m-3",label:e,onDelete:function(){return G(E.filter((function(t){return t!==e})))}},t)})),Object(I.jsxs)("div",{className:"row my-5 mx-auto align-items-center",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(ve.a,{inputValue:_e,onInputChange:function(e,t){Te(t)},id:"controllable-states-demo",options:E,fullWidth:!0,renderInput:function(e){return Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({fullWidth:!0},e),{},{label:"Select Attribute Key"}))}})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(X.a,{onChange:function(e){return Re(e.target.value)},fullWidth:!0,id:"outlined-basics",label:"Attribute Value",variant:"outlined"})})]}),Object(I.jsx)("div",{className:"my-4",style:{textAlign:"center"},children:Object(I.jsx)(ee.a,{onClick:function(){return console.log(_e,Ue),void(_e.length>0&&Ue.length>0?(p(""),U[_e]?U[_e].push(Ue):U[_e]=[Ue],R(Object(o.a)({},U))):p("Enter valid Attribute Data"))},variant:"contained",children:"Add Attribute"})}),!z.a.isEmpty(U)&&Object(I.jsx)("section",{className:"key-value-container",children:z.a.map(U,(function(e,t){return Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"row m-auto key-value align-items-center",children:[Object(I.jsx)("div",{className:"col-3",children:Object(I.jsx)("p",{className:"key",children:t})}),Object(I.jsx)("div",{className:"col-7 row m-auto align-items-center",children:e.map((function(t){return Object(I.jsx)("div",{children:Object(I.jsxs)("p",{className:"value",children:[t,e.length>1&&","]})})}))}),Object(I.jsx)("div",{className:"col-2 delete",children:Object(I.jsx)(d.a,{onClick:function(){R(z.a.omit(U,[t]))},children:Object(I.jsx)(Q.a,{})})})]})})}))}),Object(I.jsx)("h3",{className:"",children:"Specification of Product"}),Object(I.jsxs)("div",{className:"row m-auto",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(X.a,{onChange:function(e){return Fe(e.target.value)},id:"outlined-basics",fullWidth:!0,label:"Specification Key",variant:"outlined"})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(X.a,{onChange:function(e){return Xe(e.target.value)},id:"outlined-basics",fullWidth:!0,label:"Specification Value",variant:"outlined"})})]}),Object(I.jsx)("div",{className:"my-5",style:{textAlign:"center"},children:Object(I.jsx)(ee.a,{onClick:function(){var e={};e[Ze]=Qe,J([].concat(Object(oe.a)(H),[e]))},variant:"contained",children:"Add Specification"})}),H.length>0&&Object(I.jsxs)("section",{className:"specification-div",children:[Object(I.jsx)("h4",{children:"Product Specifications"}),H.map((function(e,t){return z.a.map(e,(function(a,c){return Object(I.jsxs)("div",{className:"row m-auto align-items-center",children:[Object(I.jsx)("div",{className:"col-5 key-cont",children:Object(I.jsx)("p",{children:c})}),Object(I.jsx)("div",{className:"col-5 val-cont",children:Object(I.jsx)("p",{children:a})}),Object(I.jsx)("div",{className:"col-2 delete",children:Object(I.jsx)(d.a,{onClick:function(){J(H.filter((function(t){return t[c]!==e[c]})))},children:Object(I.jsx)(Q.a,{})})})]},t)}))}))]}),Object(I.jsx)("h3",{children:"Add Variations of Product"}),Object(I.jsx)("p",{className:"mb-5",children:"Note: Before adding variations of product fill the above fields and click and on create product button then add variations"}),Object(I.jsxs)("div",{className:"row m-auto variationrow",children:[Object(I.jsx)("div",{className:"col-3",children:Object(I.jsx)(X.a,{fullWidth:!0,onChange:function(e){return at(Object(o.a)(Object(o.a)({},tt),{},{price:e.target.value}))},variant:"filled",id:"filled-basics",label:"Price of variation"})}),Object(I.jsx)("div",{className:"col-3",children:Object(I.jsx)(X.a,{fullWidth:!0,onChange:function(e){return at(Object(o.a)(Object(o.a)({},tt),{},{mrp:e.target.value}))},variant:"filled",id:"filled-basics",label:"MRP of variation"})}),Object(I.jsx)("div",{className:"col-6 row m-auto",children:!z.a.isEmpty(U)&&z.a.map(U,(function(e,t){return Object(I.jsx)("div",{className:"mb-4 col-12",children:Object(I.jsx)(ve.a,{disablePortal:!0,id:"combo-box-demo",options:e,fullWidth:!0,onChange:function(e,a){var c={};c[t]=a,at(Object(o.a)(Object(o.a)({},tt),c))},renderInput:function(e){return Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({},e),{},{label:t}))}})})}))})]}),Object(I.jsx)("div",{className:"my-5",style:{textAlign:"center"},children:Object(I.jsx)(ee.a,{onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/variation/create"),{options:tt,productId:C},{headers:{token:e.user.user}}).then((function(e){console.log(e),w(!0),de("Variation Added Successfully"),se([].concat(Object(oe.a)(ne),[Object(o.a)(Object(o.a)({},tt),{},{_id:e.data.result._id})]))})).catch((function(e){console.log(e)}))},variant:"contained",children:"Add Varation"})}),ne.length>0&&Object(I.jsx)("section",{className:"variation-cont",children:ne.map((function(t,a){return Object(I.jsxs)("div",{className:"row m-auto align-items-center variation-row",children:[Object(I.jsx)("div",{className:"col-1",children:Object(I.jsx)("p",{children:a+1})}),Object(I.jsx)("div",{className:"col-10 row m-auto",children:z.a.map(t,(function(e,t){return Object(I.jsxs)("div",{className:"row m-auto col-4",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsxs)("p",{className:"key",children:[t," :"]})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)("p",{className:"value",children:e})})]})}))}),Object(I.jsx)("div",{className:"col-1",children:Object(I.jsx)(d.a,{onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/variation/delete"),{variationId:t._id},{headers:{token:e.user.user}}).then((function(e){console.log(e),se(ne.filter((function(e,t){return t!==a})))})).catch((function(e){console.log(e)}))},children:Object(I.jsx)(Q.a,{})})})]},a)}))}),Object(I.jsx)("div",{style:{position:"fixed",bottom:"5%",right:"5%"},children:Object(I.jsx)(q.a,{title:"Create Product",children:Object(I.jsxs)(K.a,{type:"submit",color:"primary",variant:"extended",children:[Object(I.jsx)(Se.a,{sx:{mr:1}}),"Create Product"]})})})]})]}),m.length>0&&Object(I.jsx)($.a,{className:"alert",severity:"error",children:m})]})]})})),De=(a(267),a(346)),Me=a(5),Ae=a(197),Ee=a.n(Ae),Ie=a(196),Pe=a.n(Ie),Ge=a(355),_e=a(358),Te=a(356),ze=a(357),We=a(341);function Ue(e){return Object(I.jsx)("div",{children:Object(I.jsxs)(Ge.a,{open:e.open,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsx)(We.a,{id:"alert-dialog-title",children:e.title}),Object(I.jsx)(Te.a,{children:Object(I.jsx)(ze.a,{id:"alert-dialog-description",children:e.description})}),Object(I.jsxs)(_e.a,{children:[Object(I.jsx)(ee.a,{onClick:function(){return e.setOpen(!1)},children:e.leftButton}),Object(I.jsx)(ee.a,{onClick:function(){return e.handleSubmit()},autoFocus:!0,children:e.rightButton})]})]})})}var Re=Object(Me.a)("input")({display:"none"});var Ye=Object(E.b)((function(e){return{user:e.EventUser}}))((function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState(""),r=Object(l.a)(i,2),u=r[0],h=r[1],b=n.a.useState([]),m=Object(l.a)(b,2),p=m[0],O=m[1],x=Object(ce.a)(),f=x.handleSubmit,v=(x.register,x.formState.errors,n.a.useState("")),g=Object(l.a)(v,2),N=g[0],y=g[1],w=n.a.useState({}),k=Object(l.a)(w,2),S=k[0],C=k[1],D=n.a.useState(!1),M=Object(l.a)(D,2),A=M[0],E=M[1];console.log("detail",S,u,e);var G=function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/product/single"),{productId:e.location.state._id},{headers:{token:e.user.user}}).then((function(e){if(console.log(e),"Error"!==e.data.msg&&e.data.result.length>0){var t=e.data.result[0].variations.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{options:Object(o.a)(Object(o.a)({},e.options),{},{images:""})})}));e.data.result[0].variations=t,C(e.data.result[0])}})).catch((function(e){console.log(e)}))};n.a.useEffect((function(){G()}),[]);var T=function(){var t=new FormData;Array.isArray(p)||(t.append("image",p),t.append("variationId",u),console.log(t),_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/variation/uploadImg"),t,{headers:{Accept:"application/json","Content-Type":"multipart/form-data",token:e.user.user}}).then((function(e){console.log(e),G(),O([]),h("")})).catch((function(e){console.log(e)})))};return Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)(Ue,{open:A,setOpen:E,handleSubmit:function(){console.log(u,N),_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/variation/deleteImg"),{variationId:u,img:N}).then((function(e){console.log(e),G(),E(!1)})).catch((function(e){console.log(e)}))},title:"Remove Product Image",description:"Are you sure you want to remove this image",rightButton:"Remove",leftButton:"Cancel"}),Object(I.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(I.jsx)(P,{id:2,display:c})}),Object(I.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return c&&s(!1)},children:[Object(I.jsx)("span",{className:"iconbutton display-mobile",children:Object(I.jsx)(d.a,{size:"large","aria-label":"Menu",onClick:function(){return s(!0)},children:Object(I.jsx)(j.a,{fontSize:"inherit"})})}),!z.a.isEmpty(S)&&Object(I.jsxs)("section",{className:"product-detail",children:[Object(I.jsx)("h2",{children:S.name}),Object(I.jsx)(ee.a,{onClick:function(){return e.history.push("/editproduct",S)},children:"Edit Product"}),Object(I.jsx)(ee.a,{variant:"outlined",onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/product/deleteProductData"),{productId:S._id},{headers:{token:e.user.user}}).then((function(t){console.log(t),e.history.push("/products")})).catch((function(e){console.log(e)}))},children:"Delete Product"}),Object(I.jsxs)("p",{className:"createdat",children:[Object(I.jsx)("span",{className:"greyspan",children:"Created on: "})," ",R.a.parseZone(S.createdAt).local().format("dddd, MMMM Do YYYY, h:mm:ss a")," ",Object(I.jsx)("span",{className:"ml-2 greyspan",children:"Last Updated:"})," ",R.a.parseZone(S.updatedAt).local().format("dddd, MMMM Do YYYY, h:mm:ss a")]}),Object(I.jsx)(De.a,{name:"read-only",value:S.rating.total,readOnly:!0}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{className:"greyspan",children:"Avg:"})," ",S.rating.avg," ",Object(I.jsx)("span",{className:"ml-2 greyspan",children:"Count:"})," ",S.rating.count]}),Object(I.jsx)("p",{className:"greyspan category",children:S.category.name}),Object(I.jsx)(fe.a,{label:S.brand.name}),Object(I.jsx)("h4",{children:"Offers"}),S.offers.map((function(e,t){return Object(I.jsxs)("p",{className:"offers",children:[t+1,": ",e]},t)})),Object(I.jsx)("h4",{children:"EMI Options"}),Object(I.jsx)("section",{className:"row m-auto",children:!z.a.isEmpty(S.EMI_Options)&&S.EMI_Options.map((function(e,t){return Object(I.jsxs)("div",{className:"emi-option",children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{className:"greyspan",children:"Monthly Tenure: "}),e.monthCount]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{className:"greyspan",children:"Downpayment: "}),e.downPayment]})]})}))}),Object(I.jsx)("h4",{children:"Attributes"}),!z.a.isEmpty(S.attributes)&&z.a.map(S.attributes[0],(function(e,t){return Object(I.jsxs)("div",{className:"row m-auto attr-cont",children:[Object(I.jsx)("div",{className:"col-3 attr-key",children:Object(I.jsx)("p",{children:t})}),Object(I.jsx)("div",{className:"col-9 row m-auto attr-value",children:e.map((function(e,t){return Object(I.jsx)("div",{children:Object(I.jsx)("p",{className:"ml-2",children:e},t)})}))})]})})),Object(I.jsxs)("section",{className:"varation-section",children:[Object(I.jsx)("h4",{children:"Product Varations"}),!z.a.isEmpty(S.variations)&&S.variations.map((function(e,t){return Object(I.jsx)("div",{className:"row m-auto singlevar",children:z.a.map(e.options,(function(t,a){return"images"===a?Object(I.jsxs)("form",{onSubmit:f(T),children:[Object(I.jsx)("div",{style:{textAlign:"center"},children:Object(I.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(I.jsx)(Re,{onChange:function(e){O(e.target.files[0])},accept:"image/*",id:"contained-button-file",multiple:!0,type:"file"}),Object(I.jsx)(ee.a,{onClick:function(){return h(e._id)},variant:"contained",component:"span",endIcon:Object(I.jsx)(Pe.a,{}),children:"Upload image"})]})}),!Array.isArray(p)&&Object(I.jsx)("div",{style:{position:"fixed",bottom:"5%",right:"5%"},children:Object(I.jsx)(q.a,{title:"Add Variation IMG",children:Object(I.jsxs)(K.a,{type:"submit",color:"primary",variant:"extended",children:[Object(I.jsx)(Se.a,{sx:{mr:1}}),"Add Variation IMG"]})})})]}):"_id"!==a&&Object(I.jsxs)("div",{className:"col-3 row m-auto singlevaritem",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)("p",{className:"key",children:a})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)("p",{children:t})})]})}))},t)}))]}),Array.isArray(p)?null:Object(I.jsxs)("div",{className:"my-3 row justify-content-center",children:[Object(I.jsx)("img",{alt:"not fount",width:"250px",src:URL.createObjectURL(p)}),Object(I.jsx)(d.a,{onClick:function(){return O([])},"aria-label":"delete",size:"small",color:"error",children:Object(I.jsx)(Ee.a,{fontSize:"inherit"})})]}),!z.a.isEmpty(S.variations)&&S.variations.map((function(e,t){return Object(I.jsxs)("div",{className:"variation-imgs",children:[Object(I.jsxs)("h5",{children:["Variation ",t+1]}),Object(I.jsx)("div",{className:"row m-auto align-items-center",children:e.images.length>0?e.images.map((function(a){return Object(I.jsx)("div",{onClick:function(){h(e._id),y(a),E(!0)},children:Object(I.jsx)("img",{src:a,alt:a})},t)})):Object(I.jsx)("p",{children:"No Image"})})]})})),Object(I.jsx)("h4",{children:"Specification"}),!z.a.isEmpty(S.specification)&&S.specification.map((function(e,t){return z.a.map(e,(function(e,a){return Object(I.jsxs)("div",{className:"row m-auto spec-cont",children:[Object(I.jsx)("div",{className:"col-6 key-cont",children:Object(I.jsx)("p",{className:"key",children:a})}),Object(I.jsx)("div",{className:"col-6 value-cont",children:Object(I.jsx)("p",{className:"value",children:e})})]},t)}))}))]})]})]})}));var Be=Object(E.b)((function(e){return{user:e.EventUser}}))((function(e){var t=Object(ce.a)(),a=t.handleSubmit,c=t.register,s=(t.formState.errors,t.setValue),i=n.a.useState(!1),r=Object(l.a)(i,2),u=r[0],h=r[1],b=n.a.useState(""),m=Object(l.a)(b,2),p=m[0],O=m[1],x=n.a.useState([]),f=Object(l.a)(x,2),v=f[0],g=f[1],N=n.a.useState(!1),y=Object(l.a)(N,2),w=y[0],k=y[1],S=n.a.useState(""),C=Object(l.a)(S,2),D=C[0],M=C[1],A=n.a.useState([]),E=Object(l.a)(A,2),G=E[0],T=E[1],W=n.a.useState({}),U=Object(l.a)(W,2),R=U[0],Y=U[1],B=n.a.useState([]),V=Object(l.a)(B,2),L=V[0],Z=V[1],F=n.a.useState([]),H=Object(l.a)(F,2),J=H[0],te=H[1],ae=n.a.useState([]),ne=Object(l.a)(ae,2),se=ne[0],ie=ne[1],re=n.a.useState(""),le=Object(l.a)(re,2),de=le[0],ue=le[1],je=n.a.useState(""),he=Object(l.a)(je,2),ge=he[0],ye=he[1],ke=n.a.useState(""),Ce=Object(l.a)(ke,2),De=Ce[0],Me=Ce[1],Ae=n.a.useState(""),Ee=Object(l.a)(Ae,2),Ie=Ee[0],Pe=Ee[1],Ge=n.a.useState(""),_e=Object(l.a)(Ge,2),Te=_e[0],ze=_e[1],We=n.a.useState(""),Ue=Object(l.a)(We,2),Re=Ue[0],Ye=Ue[1],Be=n.a.useState(""),Ve=Object(l.a)(Be,2),qe=Ve[0],Ke=Ve[1],Le=n.a.useState(""),Ze=Object(l.a)(Le,2),Fe=Ze[0],He=Ze[1],Je=n.a.useState(""),Qe=Object(l.a)(Je,2),Xe=Qe[0],$e=Qe[1],et=n.a.useState({price:0}),tt=Object(l.a)(et,2),at=tt[0],ct=tt[1],nt=e.location.state;return console.log("details",nt),n.a.useEffect((function(){_.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/category/all"),{headers:{token:e.user.user}}).then((function(e){console.log(e),g(e.data.result)})).catch((function(e){console.log(e),O("Something went wrong")})),s("name",nt.name),s("description",nt.description),s("brandname",nt.brand.name),Me(nt.category.name),Z(nt.EMI_Options),Y(nt.attributes[0]),te(nt.specification),ie(nt.variations),M(nt._id)}),[]),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)(Ne,{open:w,setOpen:k,message:de}),Object(I.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(I.jsx)(P,{id:2,display:u})}),Object(I.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return u&&h(!1)},children:[Object(I.jsx)("span",{className:"iconbutton display-mobile",children:Object(I.jsx)(d.a,{size:"large","aria-label":"Menu",onClick:function(){return h(!0)},children:Object(I.jsx)(j.a,{fontSize:"inherit"})})}),Object(I.jsxs)("section",{className:"create-product-section",children:[Object(I.jsx)("h1",{className:"heading",children:"Create Product"}),Object(I.jsxs)("form",{onSubmit:a((function(t){var a=v.filter((function(e){return e.name===De}));a=a[0];console.log(t,a,R,L,J,se),_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/product/edit"),{productId:nt._id,data:[{propName:"name",value:t.name},{propName:"description",value:t.description},{propName:"brand",value:{name:t.brandname}},{propName:"offers",value:["Bank Offer5% Cashback on Flipkart Axis Bank Card","Special PriceGet extra \u20b9500 off (price inclusive of discount)","Get Google Nest hub(2nd gen) at just \u20b94999","Get Google Nest mini at just \u20b91999"]},{propName:"attributes",value:R},{propName:"specification",value:J},{propName:"EMI_Options",value:L}]},{headers:{token:e.user.user}}).then((function(e){console.log(e),"Error"===e.data.msg?O(e.data.result):(k(!0),ue("Product Edited Successfully"))})).catch((function(e){console.log(e)}))})),children:[Object(I.jsx)("h3",{className:"",children:"Product Info"}),Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({className:"mb-4"},c("name",{required:!0})),{},{id:"outlined-basics",fullWidth:!0,label:"Product Name",variant:"outlined"})),Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({className:"mb-4"},c("description",{required:!0})),{},{id:"outlined-basics",fullWidth:!0,label:"Product Description",variant:"outlined"})),Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({className:"mb-4"},c("brandname",{required:!0})),{},{id:"outlined-basics",fullWidth:!0,label:"Product Brand Name",variant:"outlined"})),Object(I.jsxs)(Oe.a,{className:"textfield",children:[Object(I.jsx)(xe.a,{id:"demo-row-radio-buttons-group-label",children:"Category"}),Object(I.jsx)(me.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:De,onChange:function(e){return Me(e.target.value)},children:v.length>0?v.map((function(e,t){return Object(I.jsx)(pe.a,{value:e.name,control:Object(I.jsx)(be.a,{}),label:e.name},t)})):null})]}),Object(I.jsx)("hr",{}),Object(I.jsx)("h3",{children:"EMI Options"}),Object(I.jsxs)("div",{className:"row m-auto align-items-center",children:[Object(I.jsx)("div",{className:"col-3",children:Object(I.jsx)(X.a,{onChange:function(e){return ye(e.target.value)},fullWidth:!0,id:"outlined-basics",label:"Month Count",variant:"outlined"})}),Object(I.jsx)("div",{className:"col-4",children:Object(I.jsx)(X.a,{onChange:function(e){return Pe(e.target.value)},fullWidth:!0,id:"outlined-basics",label:"Downpayment",variant:"outlined"})}),Object(I.jsx)("div",{className:"col-2",children:Object(I.jsx)(d.a,{sx:{fontSize:"2.1em"},onClick:function(){return Z([].concat(Object(oe.a)(L),[{monthCount:ge,downPayment:Ie}]))},color:"primary",children:Object(I.jsx)(we.a,{fontSize:"inherit"})})})]}),L.length>0&&Object(I.jsx)("section",{className:"row mx-auto emi-head-cont",children:L.map((function(e,t){return Object(I.jsxs)("div",{className:"emi-cont",children:[Object(I.jsxs)("p",{children:["Month Tenure: ",Object(I.jsx)("b",{children:e.monthCount})]}),Object(I.jsxs)("p",{children:["Downpayment: ",Object(I.jsx)("b",{children:e.downPayment})]}),Object(I.jsx)("div",{style:{textAlign:"center"},children:Object(I.jsx)(ee.a,{onClick:function(){return Z(L.filter((function(t){return t.monthCount!==e.monthCount})))},children:"Remove"})})]},t)}))}),Object(I.jsx)("div",{className:"mt-5"}),Object(I.jsx)("hr",{}),Object(I.jsx)("h3",{className:"",children:"Attributes of Product"}),Object(I.jsxs)("div",{className:"row mx-auto mb-3 align-items-center",children:[Object(I.jsx)("div",{className:"col-4",children:Object(I.jsx)(X.a,{fullWidth:!0,onChange:function(e){return Ke(e.target.value)},className:"textfield",id:"filled-basics",label:"Enter Attribute Key",variant:"filled"})}),Object(I.jsx)("div",{className:"col-2",children:Object(I.jsx)(d.a,{sx:{fontSize:"2.1em"},onClick:function(){return T([].concat(Object(oe.a)(G),[qe]))},color:"primary",children:Object(I.jsx)(we.a,{fontSize:"inherit"})})})]}),G.length>0&&G.map((function(e,t){return Object(I.jsx)(fe.a,{className:"m-3",label:e,onDelete:function(){return T(G.filter((function(t){return t!==e})))}},t)})),Object(I.jsxs)("div",{className:"row my-5 mx-auto align-items-center",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(ve.a,{inputValue:Te,onInputChange:function(e,t){ze(t)},id:"controllable-states-demo",options:G,fullWidth:!0,renderInput:function(e){return Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({fullWidth:!0},e),{},{label:"Select Attribute Key"}))}})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(X.a,{onChange:function(e){return Ye(e.target.value)},fullWidth:!0,id:"outlined-basics",label:"Attribute Value",variant:"outlined"})})]}),Object(I.jsx)("div",{className:"my-4",style:{textAlign:"center"},children:Object(I.jsx)(ee.a,{onClick:function(){return console.log(Te,Re),void(Te.length>0&&Re.length>0?(O(""),R[Te]?R[Te].push(Re):R[Te]=[Re],Y(Object(o.a)({},R))):O("Enter valid Attribute Data"))},variant:"contained",children:"Add Attribute"})}),!z.a.isEmpty(R)&&Object(I.jsx)("section",{className:"key-value-container",children:z.a.map(R,(function(e,t){return Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"row m-auto key-value align-items-center",children:[Object(I.jsx)("div",{className:"col-3",children:Object(I.jsx)("p",{className:"key",children:t})}),Object(I.jsx)("div",{className:"col-7 row m-auto align-items-center",children:e.map((function(t){return Object(I.jsx)("div",{children:Object(I.jsxs)("p",{className:"value",children:[t,e.length>1&&","]})})}))}),Object(I.jsx)("div",{className:"col-2 delete",children:Object(I.jsx)(d.a,{onClick:function(){Y(z.a.omit(R,[t]))},children:Object(I.jsx)(Q.a,{})})})]})})}))}),Object(I.jsx)("h3",{className:"",children:"Specification of Product"}),Object(I.jsxs)("div",{className:"row m-auto",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(X.a,{onChange:function(e){return He(e.target.value)},id:"outlined-basics",fullWidth:!0,label:"Specification Key",variant:"outlined"})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)(X.a,{onChange:function(e){return $e(e.target.value)},id:"outlined-basics",fullWidth:!0,label:"Specification Value",variant:"outlined"})})]}),Object(I.jsx)("div",{className:"my-5",style:{textAlign:"center"},children:Object(I.jsx)(ee.a,{onClick:function(){var e={};e[Fe]=Xe,te([].concat(Object(oe.a)(J),[e]))},variant:"contained",children:"Add Specification"})}),J.length>0&&Object(I.jsxs)("section",{className:"specification-div",children:[Object(I.jsx)("h4",{children:"Product Specifications"}),J.map((function(e,t){return z.a.map(e,(function(a,c){return Object(I.jsxs)("div",{className:"row m-auto align-items-center",children:[Object(I.jsx)("div",{className:"col-5 key-cont",children:Object(I.jsx)("p",{children:c})}),Object(I.jsx)("div",{className:"col-5 val-cont",children:Object(I.jsx)("p",{children:a})}),Object(I.jsx)("div",{className:"col-2 delete",children:Object(I.jsx)(d.a,{onClick:function(){te(J.filter((function(t){return t[c]!==e[c]})))},children:Object(I.jsx)(Q.a,{})})})]},t)}))}))]}),Object(I.jsx)("h3",{children:"Add Variations of Product"}),Object(I.jsx)("p",{className:"mb-5",children:"Note: Before adding variations of product fill the above fields and click and on create product button then add variations"}),Object(I.jsxs)("div",{className:"row m-auto variationrow",children:[Object(I.jsx)("div",{className:"col-3",children:Object(I.jsx)(X.a,{fullWidth:!0,onChange:function(e){return ct(Object(o.a)(Object(o.a)({},at),{},{price:e.target.value}))},variant:"filled",id:"filled-basics",label:"Price of variation"})}),Object(I.jsx)("div",{className:"col-3",children:Object(I.jsx)(X.a,{fullWidth:!0,onChange:function(e){return ct(Object(o.a)(Object(o.a)({},at),{},{mrp:e.target.value}))},variant:"filled",id:"filled-basics",label:"MRP of variation"})}),Object(I.jsx)("div",{className:"col-6 row m-auto",children:!z.a.isEmpty(R)&&z.a.map(R,(function(e,t){return Object(I.jsx)("div",{className:"mb-4 col-12",children:Object(I.jsx)(ve.a,{disablePortal:!0,id:"combo-box-demo",options:e,fullWidth:!0,onChange:function(e,a){var c={};c[t]=a,ct(Object(o.a)(Object(o.a)({},at),c))},renderInput:function(e){return Object(I.jsx)(X.a,Object(o.a)(Object(o.a)({},e),{},{label:t}))}})})}))})]}),console.log("variation",at),Object(I.jsx)("div",{className:"my-5",style:{textAlign:"center"},children:Object(I.jsx)(ee.a,{onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/variation/create"),{options:at,productId:D},{headers:{token:e.user.user}}).then((function(e){console.log(e),k(!0),ue("Variation Added Successfully"),ie([].concat(Object(oe.a)(se),[e.data.result]))})).catch((function(e){console.log(e)}))},variant:"contained",children:"Add Varation"})}),console.log(se),se.length>0&&Object(I.jsx)("section",{className:"variation-cont",children:se.map((function(t,a){return Object(I.jsxs)("div",{className:"row m-auto align-items-center variation-row",children:[Object(I.jsx)("div",{className:"col-1",children:Object(I.jsx)("p",{children:a+1})}),Object(I.jsx)("div",{className:"col-10 row m-auto",children:z.a.map(t.options,(function(e,t){return Object(I.jsxs)("div",{className:"row m-auto col-4",children:[Object(I.jsx)("div",{className:"col-6",children:Object(I.jsxs)("p",{className:"key",children:[t," :"]})}),Object(I.jsx)("div",{className:"col-6",children:Object(I.jsx)("p",{className:"value",children:e})})]})}))}),Object(I.jsx)("div",{className:"col-1",children:Object(I.jsx)(d.a,{onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/variation/delete"),{variationId:t._id},{headers:{token:e.user.user}}).then((function(e){console.log(e),ie(se.filter((function(e,t){return t!==a})))})).catch((function(e){console.log(e)}))},children:Object(I.jsx)(Q.a,{})})})]},a)}))}),Object(I.jsx)("div",{style:{position:"fixed",bottom:"5%",right:"5%"},children:Object(I.jsx)(q.a,{title:"Create Product",children:Object(I.jsxs)(K.a,{type:"submit",color:"primary",variant:"extended",children:[Object(I.jsx)(Se.a,{sx:{mr:1}}),"Edit Product"]})})})]})]}),p.length>0&&Object(I.jsx)($.a,{className:"alert",severity:"error",children:p})]})]})}));function Ve(e){return"\u20b9"+(Math.round(100*parseInt(e))/100).toLocaleString()}var qe=function(e,t){var a=e.name;return z.a.map(t,(function(e,t){"_id"!==t&&"mrp"!==t&&"price"!==t&&"imgs"!==t&&(a=a+" "+"(".concat(e,")"))})),a},Ke=function(e){var t=0;return e.map((function(e){t+=e.quantity*parseInt(e.details.options.mrp)})),Ve(t)},Le=function(e){var t=0;return e.map((function(e){t+=e.quantity*parseInt(e.details.options.price)})),Ve(t)},Ze=function(e){var t=0,a=0;return e.map((function(e){t+=e.quantity*parseInt(e.details.options.price),a+=e.quantity*parseInt(e.details.options.mrp)})),Ve(a-t)};var Fe=Object(E.b)((function(e){return{user:e.EventUser}}))((function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState({}),r=Object(l.a)(i,2),o=r[0],u=r[1],h=n.a.useState(""),b=Object(l.a)(h,2),m=b[0],p=b[1],O=n.a.useState(!1),x=Object(l.a)(O,2),f=x[0],v=x[1];console.log(o);var g=function(){_.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/order/single/").concat(e.location.state._id),{headers:{token:e.user.user}}).then((function(e){console.log(e),u(e.data.result)})).catch((function(e){console.log(e)}))};return n.a.useEffect((function(){g()}),[]),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(I.jsx)(P,{id:4,display:c})}),Object(I.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return c&&s(!1)},children:[Object(I.jsx)("span",{className:"iconbutton display-mobile",children:Object(I.jsx)(d.a,{size:"large","aria-label":"Menu",onClick:function(){return s(!0)},children:Object(I.jsx)(j.a,{fontSize:"inherit"})})}),!z.a.isEmpty(o)&&Object(I.jsxs)("section",{children:[Object(I.jsxs)("h1",{children:["Order ID: ",o.id]}),Object(I.jsxs)("h4",{children:["_id: ",o._id]}),Object(I.jsx)("h2",{children:"Shipping Details"}),z.a.map(o.shipping,(function(e,t){return Object(I.jsxs)("p",{children:[t," : ",e]})})),Object(I.jsx)("h2",{children:"Item Details"}),Object(I.jsxs)("table",{className:"ui celled table",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Name"}),Object(I.jsx)("th",{children:"Sub Total"}),Object(I.jsx)("th",{children:"Discount"}),Object(I.jsx)("th",{children:"Total"})]})}),Object(I.jsx)("tbody",{children:!z.a.isEmpty(o)&&o.items.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{"data-label":"Name",children:[qe(e.details.product[0],e.details.options)," x ",e.quantity]}),Object(I.jsx)("td",{"data-label":"Sub Total",children:Ve(e.details.options.mrp)}),Object(I.jsx)("td",{className:"discounttable","data-label":"Discount",children:Ve(parseInt(e.details.options.mrp)-parseInt(e.details.options.price))}),Object(I.jsx)("td",{className:"totaltable","data-label":"Total",children:Ve(e.details.options.price)})]},t)}))})]}),Object(I.jsxs)("section",{className:"payment-summary",children:[Object(I.jsxs)("p",{className:"subtotal",children:["SubTotal: ",Object(I.jsx)("b",{children:!z.a.isEmpty(o)&&Ke(o.items)})]}),Object(I.jsxs)("p",{className:"discount",children:["Discount: ",Object(I.jsx)("b",{children:!z.a.isEmpty(o)&&Ze(o.items)})]}),Object(I.jsxs)("p",{className:"total",children:["Total: ",Object(I.jsx)("b",{children:!z.a.isEmpty(o)&&Le(o.items)})]})]}),Object(I.jsxs)("h5",{children:["Payment Acknowledgment of merchant: ",o.merchantPayment.toString()]}),Object(I.jsxs)("div",{children:[f&&Object(I.jsxs)("div",{className:"my-5",children:[Object(I.jsx)(X.a,{sx:{width:400},onChange:function(e){return p(e.target.value)},variant:"outlined",id:"outlined-basics",label:"UTR Number"}),Object(I.jsxs)("div",{children:[Object(I.jsx)(ee.a,{onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/order/edit"),{data:[{propName:"utr",value:m}],orderId:o._id},{headers:{token:e.user.user}}).then((function(e){console.log(e),v(!1),g()})).catch((function(e){console.log(e)}))},className:"my-3",variant:"contained",children:"Edit UTR"}),Object(I.jsx)(ee.a,{onClick:function(){return v(!1)},className:"my-3",children:"Cancel"})]})]}),o.utr?Object(I.jsxs)("div",{children:[Object(I.jsxs)("p",{children:["UTR : ",o.utr]}),Object(I.jsx)(ee.a,{onClick:function(){return v(!0)},children:"Click to Edit UTR"})]}):Object(I.jsx)(X.a,{sx:{width:400},onChange:function(e){return p(e.target.value)},variant:"outlined",id:"outlined-basics",label:"UTR Number"})]}),!o.merchantPayment&&Object(I.jsx)(ee.a,{onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/order/merchantPayment"),{orderId:o._id,utr:m},{headers:{token:e.user.user}}).then((function(e){g(),console.log(e)})).catch((function(e){console.log(e)}))},className:"mt-4 mb-2",variant:"contained",children:"Payment sent to merchant"}),Object(I.jsx)("h2",{children:"User Details"}),Object(I.jsxs)("p",{children:["Name:",o.userDetails.name]}),Object(I.jsxs)("p",{children:["Email:",o.userDetails.email]}),Object(I.jsxs)("p",{children:["Mobile:",o.userDetails.mobileNo]}),Object(I.jsxs)("p",{children:["Limit:",o.userDetails.creditLimit]}),Object(I.jsx)("h4",{children:"User Bank Details"}),Object(I.jsxs)("p",{children:["Bank Account Number: ",o.userDetails.merchantData.bankDetails&&o.userDetails.merchantData.bankDetails.bankaccontno]}),Object(I.jsxs)("p",{children:["Bank IFSC Code: ",o.userDetails.merchantData.bankDetails&&o.userDetails.merchantData.bankDetails.bankaccountholder]}),Object(I.jsxs)("p",{children:["Bank Account Holder Name: ",o.userDetails.merchantData.bankDetails&&o.userDetails.merchantData.bankDetails.bankifsc]}),Object(I.jsx)("h4",{children:"Addresses"}),o.userDetails.addresses.map((function(e){return Object(I.jsx)("p",{children:e})})),o.reciept?Object(I.jsx)("img",{className:"document-img",src:"".concat("https://cleverpe-api.herokuapp.com","/api/user/image/").concat(o.reciept),alt:"fornt"}):Object(I.jsx)("p",{style:{color:"red"},children:"Merchant Hasn't uploaded the reciept yet"})]})]})]})}));var He=Object(E.b)((function(e){return{user:e.EventUser}}))((function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState(!1),r=Object(l.a)(i,2),o=r[0],u=r[1],h=n.a.useState(""),b=Object(l.a)(h,2),m=b[0],p=b[1];console.log(e);var O=e.location.state;return Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)(Ue,{open:o,setOpen:u,title:"Delete Document",description:"Are you sure you want to delete this document? Once deleted then Merchant will have to reupload again",leftButton:"Cancel",rightButton:"Delete",handleSubmit:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/user/deleteDoc/"),{docName:m,userId:O._id},{headers:{token:e.user.user}}).then((function(t){console.log(t),e.history.push("/approvals")})).catch((function(e){console.log(e)}))}}),Object(I.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(I.jsx)(P,{id:5,display:c})}),Object(I.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return c&&s(!1)},children:[Object(I.jsx)("span",{className:"iconbutton display-mobile",children:Object(I.jsx)(d.a,{size:"large","aria-label":"Menu",onClick:function(){return s(!0)},children:Object(I.jsx)(j.a,{fontSize:"inherit"})})}),Object(I.jsx)("h1",{children:O.name}),!O.kyc&&Object(I.jsx)(ee.a,{className:"my-3",variant:"contained",onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/user/setKYCTrue"),{userId:O._id},{headers:{token:e.user.user}}).then((function(t){console.log(t),e.history.push("/approvals")})).catch((function(e){console.log(e)}))},children:"Approve Merchant"}),Object(I.jsxs)("p",{children:["Email: ",O.email]}),Object(I.jsxs)("p",{children:["MerchantId: ",O.merchantId]}),Object(I.jsxs)("p",{children:["Mobile No: ",O.mobileNo]}),Object(I.jsxs)("p",{children:["PostCode: ",O.postCode]}),Object(I.jsxs)("p",{children:["Rating :",O.rating]}),Object(I.jsxs)("p",{children:["KYC: ",O.kyc.toString()]}),Object(I.jsxs)("p",{children:["GSTIN: ",O.merchantData.gstin]}),Object(I.jsxs)("p",{children:["Shop Address: ",O.merchantData.shopAddress]}),O.merchantData.documents.length>0?O.merchantData.documents.map((function(e,t){return Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:e.name}),Object(I.jsx)("img",{onClick:function(){p(e.name),u(!0)},style:{height:"50%",width:"50%"},className:"document-img",src:"".concat("https://cleverpe-api.herokuapp.com","/api/user/image/").concat(e.img),alt:e.name})]})})):Object(I.jsx)("p",{style:{color:"red"},children:"Merchant Hasn't uploaded pictures yet"}),O.suspended?Object(I.jsx)(ee.a,{onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/user/suspend"),{suspend:!1,userId:O._id},{headers:{token:e.user.user}}).then((function(t){console.log(t),e.history.push("/approvals")}))},variant:"contained",children:"Active Merchant"}):Object(I.jsx)(ee.a,{color:"error",onClick:function(){_.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/user/suspend"),{suspend:!0,userId:O._id},{headers:{token:e.user.user}}).then((function(t){console.log(t),e.history.push("/approvals")}))},variant:"contained",children:"Terminate Merchant"})]})]})}));var Je=function(){return Object(I.jsxs)(r.c,{children:[Object(I.jsx)(r.a,{exact:!0,path:"/",component:he}),Object(I.jsx)(r.a,{path:"/dashboard",component:B}),Object(I.jsx)(r.a,{path:"/products",component:F}),Object(I.jsx)(r.a,{path:"/categories",component:ne}),Object(I.jsx)(r.a,{path:"/orders",component:se}),Object(I.jsx)(r.a,{path:"/approvals",component:le}),Object(I.jsx)(r.a,{path:"/signin",component:he}),Object(I.jsx)(r.a,{path:"/verifyotp",component:je}),Object(I.jsx)(r.a,{path:"/createproduct",component:Ce}),Object(I.jsx)(r.a,{path:"/productdetail",component:Ye}),Object(I.jsx)(r.a,{path:"/editproduct",component:Be}),Object(I.jsx)(r.a,{path:"/orderdetails",component:Fe}),Object(I.jsx)(r.a,{path:"/merchantinfo",component:He})]})},Qe=a(142),Xe=a(73),$e=a(198),et=a.n($e),tt={user:null,userInfo:null},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload});case"STORE_USERINFO":return Object(o.a)(Object(o.a)({},e),{},{userInfo:t.payload});case"DELETE_USER":return tt;default:return e}},ct={messages:[]},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_SOCKET":return{messages:t.payload};case"UPDATE_SOCKET":return{messages:[].concat(Object(oe.a)(e.messages),[t.payload])};default:return e}},st=a(108),it=a(199),rt={key:"socket",storage:a.n(it).a,blacklist:["state"]},ot=Object(Xe.b)({EventUser:at,socket:Object(st.a)(rt,nt)}),lt=a(201),dt=a(200),ut={key:"root",storage:a.n(dt).a,blackList:["socket"]},jt=Object(st.a)(ut,ot),ht=[et.a,lt.a],bt=Object(Xe.c)(jt,Xe.a.apply(void 0,ht)),mt=Object(st.b)(bt),pt=a(203),Ot=a(350),xt=a(202),ft=Object(pt.a)({palette:{primary:{main:"#000"},secondary:{main:"#fc0303"},tertiary:{main:"#b66dff"}},components:{MuiButton:{styleOverrides:{root:{"&:focus":{outline:"none"}}}},MuiIconButton:{styleOverrides:{root:{"&:focus":{outline:"none"}}}},MuiTab:{styleOverrides:{root:{"&:focus":{outline:"none"}}}},MuiPagination:{styleOverrides:{root:{"&:focus":{outline:"none"}}}},MuiPaginationItem:{styleOverrides:{root:{"&:focus":{outline:"none"}}}}}});i.a.render(Object(I.jsx)(E.a,{store:bt,children:Object(I.jsx)(xt.a,{loading:null,persistor:mt,children:Object(I.jsx)(Qe.a,{children:Object(I.jsx)(Ot.a,{theme:ft,children:Object(I.jsx)(Je,{})})})})}),document.getElementById("root"))}},[[269,1,2]]]);
//# sourceMappingURL=main.4b401b60.chunk.js.map